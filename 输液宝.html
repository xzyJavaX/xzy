<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>智能输液宝</title>
    <meta http-equiv="Content-Type" content="text/html; charset=GB2312">
    </head>
    <style>
        table{
         border-collapse:collapse;
        }
        td{
          border:1px silver solid;
          padding: 3px;
          font-size:13px;
        }
        input{
          width:150px;
          font-size:13px;
        }
        </style>
      <style type="text/css">
        .class1{
            background-image: url(timg.jpg);
            /* cover可以覆盖网页 */
            background-size: cover;
        }

    </style>  
    <script>
    var result=0;
    //点击事件只触发一次
    var flag=true;
    //函数calc
    function calc(){
    var num1= document.getElementById("num1").value;
    var num2= document.getElementById("num2").value;
    num1 = parseFloat(num1);
    num2 = parseFloat(num2);
    var result1 =3.010626-1.003846*(Math.log(num1) / Math.log(Math.E))+0.999525*(Math.log(num2) / Math.log(Math.E));
    result=Math.pow(Math.E,result1);
    document.getElementById("result").value=result;
    maxtime = result * 60; 
    }
    

    function CountDown() {
      if (maxtime >= 0) {
          minutes = Math.floor(maxtime / 60);
          seconds = Math.floor(maxtime % 60);
          msg = "距离结束还有" + minutes + "分" + seconds + "秒";
          oBox.innerHTML = msg;
          --maxtime;
          } else{
                  clearInterval(timer);
                  alert("时间到，结束!");
              }
          }

    function daojishi(){
      if(flag)
      {
        timer = setInterval("CountDown()", 1000);
        flag=false;
      }
    }
   
    </script>
  
</head>
<body class="class1">
  <table align="center">
      <tr>
          <td  colspan="2" align="center">智能输液宝</td>  
        </tr> 
    <tr>
      <td>输液速度</td>  
      <td><input type="text" id="num1" style="background:rgba(0, 0, 0, 0); ";>滴每分钟</td>
    </tr> 
    <tr>
      <td>输液瓶容量</td>  
      <td><input type="text" id="num2" style="background:rgba(0, 0, 0, 0); " >毫升</td>
    </tr> 
    <tr>
        <td colspan="2" align="center"><input type="button" value="计算" onclick="calc()" style="background:rgba(0, 0, 0, 0); "></td>
    </tr>
    <tr>
      <td>输液时间</td>  
      <td><input type="text" id="result" style="background:rgba(0, 0, 0, 0); ">分钟</td>
    </tr>
    <tr>
      <td colspan="2" align="center"><input type="button" value="开始倒计时" onclick="daojishi()" style="background:rgba(0, 0, 0, 0); "></td>
  </tr> 
  </table>
  <div id="timer"  align="center"></div>
</body>
<script> 
  var oBox= document.getElementById('timer');       
</script>
</html>